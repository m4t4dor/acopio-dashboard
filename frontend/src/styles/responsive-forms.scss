/* Responsive Forms - Specific fixes for mobile forms */

/* Base styles - apply to all screens but can be overridden */
.ant-modal-body,
.ant-drawer-body,
.ant-form {
  * {
    box-sizing: border-box;
  }
}

/* Mobile specific adjustments */
@media (max-width: 640px) {
  .ant-modal-body,
  .ant-drawer-body,
  .ant-form {
    /* Ensure rows and columns respect container width */
    .ant-row {
      width: 100% !important;
      max-width: 100% !important;
      margin-left: -8px !important;
      margin-right: -8px !important;
    }
    
    .ant-col {
      width: 100% !important;
      max-width: 100% !important;
      padding-left: 8px !important;
      padding-right: 8px !important;
      flex: 0 0 auto !important;
    }
    
    /* Form field containers */
    .ant-space-compact {
      width: 100% !important;
      max-width: 100% !important;
      display: flex !important;
      flex-wrap: nowrap !important;
    }
    
    /* All input elements */
    .ant-input,
    .ant-select,
    .ant-select-selector,
    .ant-picker,
    .ant-input-group-wrapper,
    .ant-input-wrapper {
      width: 100% !important;
      max-width: 100% !important;
      min-width: 0 !important;
    }
    
    /* Addon elements should not take full width */
    .ant-input-group-addon,
    .ant-space-compact .ant-btn {
      width: auto !important;
      flex-shrink: 0 !important;
    }
    
    /* Text areas */
    .ant-input {
      resize: vertical !important;
    }
    
    /* Form elements */
    .ant-input,
    .ant-select-selector {
      height: 40px !important;
      font-size: 16px !important; /* Prevents zoom on iOS */
    }
    
    /* Select dropdowns */
    .ant-select-dropdown {
      max-width: 95vw !important;
    }
    
    /* Buttons */
    .ant-btn {
      height: 40px !important;
      font-size: 14px !important;
    }
    
    /* Space between form elements */
    .mb-2 {
      margin-bottom: 12px !important;
    }
  }
  
  /* Modal specific for mobile */
  .ant-modal {
    /* Full screen on mobile */
    width: 100vw !important;
    max-width: 100vw !important;
    margin: 0 !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    height: 100vh !important;
    padding: 0 !important;
  }
  
  .ant-modal-content {
    height: 100vh !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
    display: flex !important;
    flex-direction: column !important;
  }
  
  .ant-modal-header {
    flex-shrink: 0 !important;
    padding: 16px !important;
    border-bottom: 1px solid #f0f0f0 !important;
  }
  
  .ant-modal-body {
    flex: 1 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    padding: 16px !important;
  }
  
  .ant-modal-footer {
    flex-shrink: 0 !important;
    padding: 16px !important;
    border-top: 1px solid #f0f0f0 !important;
    
    .ant-btn {
      width: 100% !important;
      margin: 4px 0 !important;
    }
    
    .ant-btn + .ant-btn {
      margin-left: 0 !important;
    }
  }
}

/* Tablet adjustments (641px to 1024px) */
@media (min-width: 641px) and (max-width: 1024px) {
  .ant-modal {
    width: 90vw !important;
    max-width: 800px !important;
    margin: 20px auto !important;
    top: 20px !important;
    height: auto !important;
  }
  
  .ant-modal-content {
    height: auto !important;
    max-height: calc(100vh - 40px) !important;
    border-radius: 8px !important;
  }
  
  .ant-modal-body {
    max-height: calc(100vh - 140px) !important;
    height: auto !important;
    padding: 24px !important;
  }
}

/* Desktop (1025px and up) - restore normal behavior */
@media (min-width: 1025px) {
  .ant-modal {
    /* Reset to normal modal behavior - let component control width */
    max-width: 95vw !important;
    margin: auto !important;
    height: auto !important;
  }
  
  .ant-modal-content {
    height: auto !important;
    max-height: calc(100vh - 120px) !important;
    border-radius: 8px !important;
    display: block !important;
  }
  
  .ant-modal-body {
    height: auto !important;
    max-height: calc(90vh - 120px) !important;
    padding: 24px !important;
  }
  
  .ant-modal-footer {
    .ant-btn {
      width: auto !important;
      margin: 0 8px 0 0 !important;
    }
    
    .ant-btn + .ant-btn {
      margin-left: 8px !important;
    }
  }
}

/* Additional safety measures for mobile only */
@media (max-width: 640px) {
  .w-full {
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* Responsive grid adjustments for mobile */
  .ant-col-md-12,
  .ant-col-lg-8 {
    width: 100% !important;
    max-width: 100% !important;
  }
}
