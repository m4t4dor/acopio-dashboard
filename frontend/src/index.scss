/* Import responsive forms styles */
@use './styles/responsive-forms.scss';

@layer tailwind-base, antd;

@layer tailwind-base {
	@tailwind base;
}
@tailwind components;
@tailwind utilities;

/* Estilos personalizados para las tablas */
.compact-table {
  width: 100% !important;
  
  .ant-table {
    width: 100% !important;
  }
  
  .ant-table-thead > tr > th {
    background: #f8fafc !important;
    border-bottom: 2px solid #e2e8f0 !important;
    font-weight: 600 !important;
    color: #374151 !important;
    font-size: 11px !important;
    padding: 8px 12px !important;
  }
  
  .ant-table-tbody > tr > td {
    padding: 6px 12px !important;
    border-bottom: 1px solid #f1f5f9 !important;
  }
  
  .ant-table-tbody > tr:hover > td {
    background: #f8fafc !important;
  }
  
  // Asegurar que las columnas se distribuyan bien
  .ant-table-tbody > tr > td:first-child {
    width: 25% !important;
  }
  
  .ant-table-tbody > tr > td:nth-child(2) {
    width: 12% !important;
  }
  
  .ant-table-tbody > tr > td:nth-child(3) {
    width: 15% !important;
  }
  
  .ant-table-tbody > tr > td:nth-child(4) {
    width: 15% !important;
  }
  
  .ant-table-tbody > tr > td:nth-child(5) {
    width: 18% !important;
  }
  
  .ant-table-tbody > tr > td:nth-child(6) {
    width: 15% !important;
  }
}

.kardex-table {
  .ant-table-thead > tr > th {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%) !important;
    border-bottom: 2px solid #0ea5e9 !important;
    font-weight: 600 !important;
    color: #0c4a6e !important;
    font-size: 10px !important;
    padding: 6px 8px !important;
    text-align: center !important;
  }
  
  .ant-table-tbody > tr > td {
    padding: 4px 8px !important;
    border-bottom: 1px solid #e0f2fe !important;
    font-size: 10px !important;
  }
  
  .ant-table-tbody > tr:hover > td {
    background: #f0f9ff !important;
  }
}

/* :root {
	--primary: #0d2b3e;
} */

/* Formularios */
.form-label {
	@apply inline-block text-xs font-semibold mb-2;
}

.form-invalid {
	@apply text-red-500 text-xs;
}

/* Global form container styles */
.ant-form, .ant-modal-body {
  .ant-row {
    width: 100%;
    margin-left: -8px;
    margin-right: -8px;
  }
  
  .ant-col {
    padding-left: 8px;
    padding-right: 8px;
    width: 100%;
    max-width: 100%;
  }
  
  .ant-space-compact {
    width: 100% !important;
    max-width: 100% !important;
  }
  
  .ant-input-group-wrapper,
  .ant-input-wrapper,
  .ant-select,
  .ant-picker,
  .ant-input {
    width: 100% !important;
    max-width: 100% !important;
  }
}

/* Responsive utilities */
@media (max-width: 768px) {
	.responsive-table .ant-table-thead > tr > th {
		padding: 8px 4px !important;
		font-size: 12px !important;
	}
	
	.responsive-table .ant-table-tbody > tr > td {
		padding: 8px 4px !important;
		font-size: 12px !important;
	}
	
	.ant-pagination {
		text-align: center !important;
	}
	
	.ant-pagination-options {
		display: none !important;
	}

	/* Modal responsive */
	.ant-modal {
		max-width: calc(100vw - 16px) !important;
		margin: 8px !important;
		top: 8px !important;
	}
	
	.ant-modal-content {
		max-height: calc(100vh - 16px) !important;
		overflow-y: auto !important;
	}
	
	.ant-modal-body {
		max-height: calc(100vh - 120px) !important;
		overflow-y: auto !important;
		padding: 16px !important;
	}

	/* Drawers on mobile */
	.ant-drawer-content-wrapper {
		width: 90vw !important;
		max-width: 400px !important;
	}
}

/* Mobile-first form styling */
@media (max-width: 640px) {
	.ant-form-item {
		margin-bottom: 16px !important;
	}
	
	.ant-input, 
	.ant-select-selector,
	.ant-picker-input input {
		height: 40px !important;
		font-size: 16px !important; /* Prevents zoom on iOS */
		max-width: 100% !important;
		width: 100% !important;
	}
	
	.ant-select,
	.ant-select-single,
	.ant-select-multiple {
		width: 100% !important;
		max-width: 100% !important;
	}
	
	.ant-select-selector {
		width: 100% !important;
		max-width: 100% !important;
		overflow: hidden !important;
	}
	
	.ant-select-dropdown {
		max-width: 95vw !important;
	}
	
	.ant-picker {
		width: 100% !important;
		max-width: 100% !important;
	}
	
	.ant-input-group-wrapper,
	.ant-input-wrapper {
		width: 100% !important;
		max-width: 100% !important;
	}
	
	.ant-input-group-addon {
		width: auto !important;
		flex-shrink: 0 !important;
	}
	
	.ant-btn {
		height: 40px !important;
		font-size: 14px !important;
	}
	
	.ant-card-head-title {
		font-size: 16px !important;
	}

	/* Form containers - only on mobile */
	.ant-row {
		margin-left: -8px !important;
		margin-right: -8px !important;
		width: 100% !important;
		max-width: 100% !important;
	}
	
	.ant-col {
		padding-left: 8px !important;
		padding-right: 8px !important;
		width: 100% !important;
		max-width: 100% !important;
	}

	/* Prevent horizontal overflow - only on mobile */
	.ant-space-compact {
		width: 100% !important;
		max-width: 100% !important;
		display: flex !important;
	}

	.ant-space-compact > * {
		max-width: 100% !important;
	}

	/* Tooltips y botones adicionales */
	.ant-space-compact .ant-btn {
		flex-shrink: 0 !important;
		width: auto !important;
		min-width: 40px !important;
	}
}

/* Touch-friendly buttons */
.touch-target {
	min-height: 44px;
	min-width: 44px;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Scrollable content */
.scrollable-content {
	max-height: calc(100vh - 120px);
	overflow-y: auto;
}

/* custom swal style */
.swal2-title {
	@apply text-lg font-semibold;
}

.swal2-styled {
	border: 1px solid transparent;
	@apply text-sm;
}

.swal2-confirm {
	@apply bg-primary text-white;
}

.swal2-cancel {
	@apply bg-transparent text-black border-gray-400;
}

/* when is toast */
.swal2-toast {
	@apply p-2 !important;
}

.swal2-toast .swal2-title {
	@apply text-sm m-4 !important;
}

@layer base {
	:root {
		--background: 0 0% 100%;
		--foreground: 0 0% 3.9%;
		--card: 0 0% 100%;
		--card-foreground: 0 0% 3.9%;
		--popover: 0 0% 100%;
		--popover-foreground: 0 0% 3.9%;
		--primary: 0 0% 8%;
		--primary-foreground: 0 0% 98%;
		--secondary: 0 0% 96.1%;
		--secondary-foreground: 0 0% 8%;
		--muted: 0 0% 96.1%;
		--muted-foreground: 0 0% 45.1%;
		--accent: 0 0% 96.1%;
		--accent-foreground: 0 0% 8%;
		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 0 0% 98%;
		--success: 142 76% 36%;
		--success-foreground: 0 0% 98%;
		--warning: 38 92% 50%;
		--warning-foreground: 0 0% 98%;
		--border: 0 0% 89.8%;
		--input: 0 0% 89.8%;
		--ring: 0 0% 3.9%;
		--chart-1: 12 76% 61%;
		--chart-2: 173 58% 39%;
		--chart-3: 197 37% 24%;
		--chart-4: 43 74% 66%;
		--chart-5: 27 87% 67%;
		--radius: 0.5rem;
		--sidebar-background: 0 0% 8%;
		--sidebar-foreground: 0 0% 100%;
		--sidebar-primary: 0 0% 8%;
		--sidebar-primary-foreground: 203 20% 98%;
		--sidebar-accent: 203 15% 96%;
		--sidebar-accent-foreground: 0 0% 8%;
		--sidebar-border: 203 13% 91%;
		--sidebar-ring: 203 65% 60%;
	}
	.dark {
		--background: 0 0% 3.9%;
		--foreground: 0 0% 98%;
		--card: 0 0% 3.9%;
		--card-foreground: 0 0% 98%;
		--popover: 0 0% 3.9%;
		--popover-foreground: 0 0% 98%;
		--primary: 0 0% 98%;
		--primary-foreground: 0 0% 8%;
		--secondary: 0 0% 14.9%;
		--secondary-foreground: 0 0% 98%;
		--muted: 0 0% 14.9%;
		--muted-foreground: 0 0% 63.9%;
		--accent: 0 0% 14.9%;
		--accent-foreground: 0 0% 98%;
		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 0 0% 98%;
		--success: 142 72% 29%;
		--success-foreground: 0 0% 98%;
		--warning: 38 92% 50%;
		--warning-foreground: 0 0% 98%;
		--border: 0 0% 14.9%;
		--input: 0 0% 14.9%;
		--ring: 0 0% 83.1%;
		--chart-1: 220 70% 50%;
		--chart-2: 160 60% 45%;
		--chart-3: 30 80% 55%;
		--chart-4: 280 65% 60%;
		--chart-5: 340 75% 55%;
		--sidebar-background: 240 5.9% 10%;
		--sidebar-foreground: 240 4.8% 95.9%;
		--sidebar-primary: 224.3 76.3% 48%;
		--sidebar-primary-foreground: 0 0% 100%;
		--sidebar-accent: 240 3.7% 15.9%;
		--sidebar-accent-foreground: 240 4.8% 95.9%;
		--sidebar-border: 240 3.7% 15.9%;
		--sidebar-ring: 217.2 91.2% 59.8%;
	}
}
@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
	}
}

.flex-cols {
	@apply flex flex-wrap;

	> * {
		width: calc(100% / var(--cols) - var(--gap) + var(--gap) / var(--cols));
	}
}

// Clases base sin breakpoint
@for $i from 1 through 12 {
	.flex-cols-#{$i} {
		--cols: #{$i};
	}
	.flex-cols-gap-#{$i} {
		--gap: calc(0.25rem * #{$i});
		gap: var(--gap);
	}

	.flex-cols-gap-x-#{$i} {
		--gap: calc(0.25rem * #{$i});
		column-gap: var(--gap);
	}

	.flex-cols-gap-y-#{$i} {
		--gap-y: calc(0.25rem * #{$i});
		row-gap: var(--gap-y);
	}
}

// Breakpoints de Tailwind CSS (nombre: min-width)
$breakpoints: (
	"sm": 640px,
	"md": 768px,
	"lg": 1024px,
	"xl": 1280px,
	"2xl": 1536px
);

// Generar clases responsive
@each $bp, $width in $breakpoints {
	@media (min-width: $width) {
		@for $i from 1 through 12 {
			// Escapado especial para 2xl (genera \32xl)
			$clase-bp: if($bp == "2xl", "\\32xl", $bp);

			.#{$clase-bp}\:flex-cols-#{$i} {
				--cols: #{$i};
			}
			.#{$clase-bp}\:flex-cols-gap-#{$i} {
				--gap: calc(0.25rem * #{$i});
				gap: var(--gap);
			}
		}
	}
}
